(function(){"use strict";var e={7351:function(e,t,o){o.r(t),o.d(t,{default:function(){return u}});var s=function(){var e=this;e._self._c,e._self._setupProxy;return e._m(0)},i=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"about"},[t("h3",[e._v("功能说明:只支持A记录解析")]),t("h3",[e._v("开源协议:MIT")]),t("h3",[e._v("源码地址:MIT")]),t("h3",[e._v("作者邮箱:letui@qq.com")])])}],r={__name:"AboutView",setup(e){return{__sfc:!0}}},l=r,a=o(1001),n=(0,a.Z)(l,s,i,!1,null,null,null),u=n.exports},9919:function(e,t,o){var s=o(7195),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("el-container",[t("el-header",[t("el-row",[t("el-col",{attrs:{span:20}},[t("div",[t("el-image",{staticStyle:{width:"180px",height:"60px",float:"left"},attrs:{src:e.logoUrl,fit:e.fit}})],1)]),t("el-col",{attrs:{span:4}},[t("UserBarView")],1)],1)],1),t("el-main",[t("HomeView")],1),t("el-footer",[t("b",{staticStyle:{cursor:"pointer","text-decoration":"underline"},on:{click:function(t){e.showAbout=!0}}},[e._v("About Rapid-DNS")])])],1),t("el-dialog",{attrs:{visible:e.showAbout,title:"Rapid-DNS"},on:{"update:visible":function(t){e.showAbout=t}}},[t("AboutView")],1)],1)},r=[],l=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"search_panel"},[t("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},on:{input:function(t){e.searchResult=[]}},model:{value:e.userInput,callback:function(t){e.userInput=t},expression:"userInput"}},[t("el-select",{attrs:{slot:"append",placeholder:"请选择"},slot:"append",model:{value:e.userSelected,callback:function(t){e.userSelected=t},expression:"userSelected"}},[t("el-option",{attrs:{label:".dev",value:"dev"}}),t("el-option",{attrs:{label:".test",value:"test"}}),t("el-option",{attrs:{label:".prod",value:"prod"}}),t("el-option",{attrs:{label:".go",value:"go"}}),t("el-option",{attrs:{label:".app",value:"app"}}),t("el-option",{attrs:{label:".db",value:"app"}}),t("el-option",{attrs:{label:".svc",value:"app"}})],1),t("i",{staticClass:"el-icon-search",staticStyle:{"padding-top":"10px",cursor:"pointer"},attrs:{slot:"append",type:"primary"},on:{click:e.searchHandler},slot:"append"})],1)],1),t("div",[e.searchResult.length>0?t("ul",{staticClass:"search-ul-list"},e._l(e.searchResult,(function(o){return t("li",{key:o},[t("span",[e._v(e._s(o))]),t("span",{on:{click:function(t){return e.registClickHandler(o)}}},[t("i",{staticClass:"el-icon-shopping-cart-full"},[e._v("申请")])])])})),0):e._e()]),t("el-dialog",{attrs:{title:"域名注册",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{attrs:{model:e.registInfo,inline:!0}},[t("b",[t("el-form-item",{attrs:{label:"域名","label-width":e.formLabelWidth}},[t("el-input",{staticStyle:{"font-weight":"bold"},attrs:{autocomplete:"off",readonly:""},model:{value:e.registInfo.domain,callback:function(t){e.$set(e.registInfo,"domain",t)},expression:"registInfo.domain"}})],1),t("el-form-item",{attrs:{label:"A记录","label-width":e.formLabelWidth}},[t("el-ip-input",{attrs:{autocomplete:"off",placeholder:"请填写ipv4地址"},model:{value:e.registInfo.ipv4,callback:function(t){e.$set(e.registInfo,"ipv4",t)},expression:"registInfo.ipv4"}})],1)],1)]),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.submitRegisterHandler}},[e._v("确 定")])],1)],1)],1)},a=[],n=o(306),u=o(5114),d=o.n(u),c=o(408);s["default"].use(c.ZP);var m=new c.ZP.Store({state:{user:""},getters:{},mutations:{},actions:{},modules:{}}),p=o(2746);const f="vue_admin_template_token";function h(){return p.Z.get(f)}const b=n.Z.create({baseURL:"/api",timeout:5e3});b.interceptors.request.use((e=>(m.getters.token&&(e.headers["X-SESSION"]=h()),e)),(e=>(console.log(e),Promise.reject(e)))),b.interceptors.response.use((e=>{console.log(e);const t=e.data;return 200!==t.code?((0,u.Message)({message:t.data||"Error",type:"error",duration:5e3}),t):t}),(e=>(console.log("err"+e),(0,u.Message)({message:e.message,type:"error",duration:5e3}),Promise.reject(e))));var g=b;const v=e=>g({url:"/domain/search?name="+e,method:"get"}),w=e=>g({url:"/auth/login",method:"post",data:e}),y=e=>g({url:"/auth/updatePassword",method:"post",data:e}),_=e=>g({url:"/auth/register",method:"post",data:e}),F=e=>g({url:"/auth/logout",method:"post",data:e}),x=e=>g({url:"/domain/new",method:"post",data:e}),k=e=>g({url:"/domain/list",method:"post",data:e}),P=e=>g({url:"/domain/modify",method:"post",data:e}),S=e=>g({url:"/domain/drop",method:"post",data:e});var $={name:"HomeView",data(){return{registInfo:{domain:"",ipv4:""},formLabelWidth:"80px",dialogFormVisible:!1,userInput:"",userSelected:"",searchResult:[]}},methods:{registClickHandler(e){this.registInfo.domain=e,this.dialogFormVisible=!0},submitRegisterHandler(){x(this.registInfo).then((e=>{200==e.code&&this.$message({message:"恭喜你，注册成功",type:"success"}),this.dialogFormVisible=!1,this.searchHandler()}))},searchHandler(){""!=this.userInput?v(this.userInput).then((e=>{null==e.data?this.$alert("很抱歉,您输入的域名都被注册了，请换一个","结果提示",{confirmButtonText:"确定"}):this.searchResult=e.data})):this.$alert("请输入您想要注册的域名后再查询","查询提示",{confirmButtonText:"确定"})}}},C=$,I=o(1001),O=(0,I.Z)(C,l,a,!1,null,null,null),R=O.exports,V=function(){var e=this,t=e._self._c;return t("div",[""==e.currentUser?t("div",{staticStyle:{float:"right"}},[t("el-link",{attrs:{type:"primary"},on:{click:function(t){e.loginForm.visible=!0}}},[e._v("登录")]),t("span",{staticStyle:{width:"20px",display:"inline-block"}}),t("el-link",{attrs:{type:"success"},on:{click:function(t){e.registerForm.visible=!0}}},[e._v("注册")])],1):t("div",{staticStyle:{float:"right","text-align":"center"}},[t("el-menu",{staticClass:"el-menu-demo my_info",attrs:{"default-active":"1",mode:"horizontal"}},[t("el-submenu",{attrs:{index:"1"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"10px"}}),t("b",[e._v(e._s(e.currentUser))])]),t("el-menu-item",{attrs:{index:"2-1"},on:{click:e.showMyDomains}},[e._v("我的域名")]),t("el-menu-item",{attrs:{index:"2-2"},on:{click:function(t){e.modifyPasswordForm.visible=!0}}},[e._v("修改密码")]),t("el-menu-item",{attrs:{index:"2-3"},on:{click:e.logoutHandler}},[e._v("退出登录")])],2)],1)],1),t("el-dialog",{attrs:{title:"Rapid-DNS",visible:e.loginForm.visible,width:"30%"},on:{"update:visible":function(t){return e.$set(e.loginForm,"visible",t)}}},[t("el-form",{staticClass:"login-register-form",attrs:{model:e.loginForm,inline:!1,"label-position":"right"}},[t("el-form-item",{attrs:{label:"账号","label-width":"80px"}},[t("el-input",{staticClass:"login_input",attrs:{autocomplete:"off"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{label:"密码","label-width":"80px"}},[t("el-input",{staticClass:"login_input",attrs:{autocomplete:"off","show-password":""},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.loginForm.visible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.loginHandler}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"Rapid-DNS",visible:e.registerForm.visible,width:"30%"},on:{"update:visible":function(t){return e.$set(e.registerForm,"visible",t)}}},[t("el-form",{staticClass:"login-register-form",attrs:{model:e.registerForm,inline:!1,"label-position":"right"}},[t("el-form-item",{attrs:{label:"账号","label-width":"80px"}},[t("el-input",{staticClass:"login_input",attrs:{autocomplete:"off"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),t("el-form-item",{attrs:{label:"登录密码","label-width":"80px"}},[t("el-input",{staticClass:"login_input",attrs:{autocomplete:"off","show-password":""},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),t("el-form-item",{attrs:{label:"密码确认","label-width":"80px"}},[t("el-input",{staticClass:"login_input",attrs:{autocomplete:"off","show-password":""},model:{value:e.registerForm.retype_password,callback:function(t){e.$set(e.registerForm,"retype_password",t)},expression:"registerForm.retype_password"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.registerForm.visible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.registerSubmit}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"我的域名",visible:e.mydomainForm.visible,width:"900px"},on:{"update:visible":function(t){return e.$set(e.mydomainForm,"visible",t)}}},[t("el-form",{attrs:{model:e.mydomainForm,inline:!0,"label-position":"right"}},e._l(e.mydomainForm.list,(function(o){return t("el-form-item",{key:o.domain,staticStyle:{height:"100%",display:"inline-block"}},[t("el-form-item",{attrs:{label:"域名","label-width":e.formLabelWidth}},[t("el-input",{staticStyle:{"font-weight":"bold"},attrs:{autocomplete:"off",readonly:""},model:{value:o.domain,callback:function(t){e.$set(o,"domain",t)},expression:"item.domain"}})],1),t("el-form-item",{attrs:{label:"A记录","label-width":e.formLabelWidth}},[t("el-ip-input",{attrs:{autocomplete:"off"},model:{value:o.ipv4,callback:function(t){e.$set(o,"ipv4",t)},expression:"item.ipv4"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:""},on:{click:function(t){return e.modifyDomain(o)}}}),t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.deleteDomain(o)}}})],1)],1)})),1)],1),t("el-dialog",{attrs:{title:"修改密码",visible:e.modifyPasswordForm.visible,width:"30%"},on:{"update:visible":function(t){return e.$set(e.modifyPasswordForm,"visible",t)}}},[t("el-form",{staticClass:"login-register-form",attrs:{model:e.modifyPasswordForm,inline:!1,"label-position":"right"}},[t("el-form-item",{attrs:{label:"原密码","label-width":"80px"}},[t("el-input",{staticClass:"login_input",attrs:{autocomplete:"off","show-password":""},model:{value:e.modifyPasswordForm.oldPassword,callback:function(t){e.$set(e.modifyPasswordForm,"oldPassword",t)},expression:"modifyPasswordForm.oldPassword"}})],1),t("el-form-item",{attrs:{label:"新密码","label-width":"80px"}},[t("el-input",{staticClass:"login_input",attrs:{autocomplete:"off","show-password":""},model:{value:e.modifyPasswordForm.newPassword,callback:function(t){e.$set(e.modifyPasswordForm,"newPassword",t)},expression:"modifyPasswordForm.newPassword"}})],1),t("el-form-item",{attrs:{label:"密码确认","label-width":"80px"}},[t("el-input",{staticClass:"login_input",attrs:{autocomplete:"off","show-password":""},model:{value:e.modifyPasswordForm.newRPassword,callback:function(t){e.$set(e.modifyPasswordForm,"newRPassword",t)},expression:"modifyPasswordForm.newRPassword"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.modifyPasswordForm.visible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.modifyPasswordSubmit}},[e._v("确 定")])],1)],1)],1)},H=[],T={name:"UserBarView",computed:(0,c.rn)({currentUser:"user"}),data(){return{formLabelWidth:"120px",loginForm:{username:"",password:"",visible:!1},registerForm:{username:"",password:"",retype_password:"",visible:!1},modifyPasswordForm:{visible:!1},mydomainForm:{visible:!1,list:[]}}},methods:{modifyPasswordSubmit(){y(this.modifyPasswordForm).then((e=>{200==e.code&&(this.$message({message:"恭喜你,密码修改成功",type:"success"}),this.modifyPasswordForm.visible=!1)}))},registerSubmit(){_(this.registerForm).then((e=>{200==e.code&&(this.$message({message:"账号注册成功",type:"success"}),this.registerForm.visible=!1)}))},showMyDomains(){k().then((e=>{e.data&&(console.log(e.data),this.mydomainForm.list=e.data,this.mydomainForm.visible=!0)}))},deleteDomain(e){S(e).then((e=>{200==e.code&&(this.showMyDomains(),this.$message({message:"域名删除成功",type:"success"}))}))},modifyDomain(e){P(e).then((e=>{200==e.code&&this.$message({message:"域名更新成功",type:"success"})}))},async logoutHandler(){this.$store.state.user="";let e=await F(this.loginForm);e.data>0&&(this.$store.state.user="")},async loginHandler(){let e=await w(this.loginForm);e.data>0&&(this.$store.state.user=this.loginForm.username,this.loginForm.visible=!1)}}},j=T,A=(0,I.Z)(j,V,H,!1,null,"0b6da370",null),D=A.exports,M=o(7351),Z={components:{HomeView:R,UserBarView:D,AboutView:M["default"]},created(){sessionStorage.getItem("X-STORE")&&this.$store.replaceState(Object.assign({},this.$store.state,JSON.parse(sessionStorage.getItem("X-STORE")))),window.addEventListener("beforeunload",(()=>{sessionStorage.setItem("X-STORE",JSON.stringify(this.$store.state))}))},data(){return{showAbout:!1,logoUrl:"/logo.png",fit:"fill"}}},U=Z,L=(0,I.Z)(U,i,r,!1,null,null,null),E=L.exports,N=o(2241);s["default"].use(N.ZP);const W=[{path:"/",name:"home",component:R},{path:"/about",name:"about",component:()=>Promise.resolve().then(o.bind(o,7351))}],B=new N.ZP({routes:W});var X=B,q=o(5897),J=o.n(q);s["default"].use(J()),s["default"].use(d()),s["default"].config.productionTip=!1,new s["default"]({router:X,store:m,render:e=>e(E)}).$mount("#app")}},t={};function o(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=e,function(){o.amdO={}}(),function(){var e=[];o.O=function(t,s,i,r){if(!s){var l=1/0;for(d=0;d<e.length;d++){s=e[d][0],i=e[d][1],r=e[d][2];for(var a=!0,n=0;n<s.length;n++)(!1&r||l>=r)&&Object.keys(o.O).every((function(e){return o.O[e](s[n])}))?s.splice(n--,1):(a=!1,r<l&&(l=r));if(a){e.splice(d--,1);var u=i();void 0!==u&&(t=u)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[s,i,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,r,l=s[0],a=s[1],n=s[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(n)var d=n(o)}for(t&&t(s);u<l.length;u++)r=l[u],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},s=self["webpackChunkrapid_ui"]=self["webpackChunkrapid_ui"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(9919)}));s=o.O(s)})();
//# sourceMappingURL=app.be363225.js.map